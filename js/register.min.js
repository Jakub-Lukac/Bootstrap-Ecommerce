function RegisterUser(){event.preventDefault();const e=document.getElementById("registerForm");if(ClearErrorAlerts(),document.getElementById("password").value!==document.getElementById("confirmPassword").value)return ShowErrorAlert(e,"Wrong password!"),void setTimeout(()=>{ClearErrorAlerts()},1e3);const t={firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value,dob:document.getElementById("dob").value,addressLine1:document.getElementById("addressLine1").value,addressLine2:document.getElementById("addressLine2").value,eirCode:document.getElementById("eircode").value,email:document.getElementById("email").value,password:document.getElementById("password").value,loggedIn:"true"};let r=JSON.parse(localStorage.getItem("usersDetails"))||[];const s=r.some(e=>e.email===t.email),l=r.some(e=>"true"===e.loggedIn);if(l&&l.forEach(e=>{e.loggedIn="false"}),s)return ShowErrorAlert(e,"This user already exists. Please use a different email."),void setTimeout(()=>{ClearErrorAlerts()},1e3);r.push(t),localStorage.setItem("usersDetails",JSON.stringify(r)),ShowSuccessAlert(e),setTimeout(()=>{window.location.href="../index.html"},2e3)}function ClearErrorAlerts(){const e=document.getElementById("errorAlert");e&&e.remove()}function ShowErrorAlert(e,t){const r=document.createElement("div");r.id="errorAlert",r.setAttribute("class","alert alert-danger"),r.setAttribute("role","alert"),r.textContent=t,e.append(r)}function ShowSuccessAlert(e){const t=document.createElement("div");t.setAttribute("class","alert alert-success"),t.setAttribute("role","alert"),t.textContent="Register successful! You will be redirected shortly.",e.appendChild(t)}document.getElementById("registerForm").addEventListener("submit",RegisterUser,!1);