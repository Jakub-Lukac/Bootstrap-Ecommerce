function RegisterUser(){event.preventDefault(),ClearErrorAlerts();const e={firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value,dob:document.getElementById("dob").value,addressLine1:document.getElementById("addressLine1").value,addressLine2:document.getElementById("addressLine2").value,eirCode:document.getElementById("eircode").value,email:document.getElementById("email").value,password:document.getElementById("password").value,loggedIn:"true"};let t=JSON.parse(localStorage.getItem("usersDetails"))||[];const r=t.some(t=>t.email===e.email),s=t.some(e=>"true"===e.loggedIn);s&&s.forEach(e=>{e.loggedIn="false"});const l=document.getElementById("registerForm");r?ShowErrorAlert(l):(t.push(e),localStorage.setItem("usersDetails",JSON.stringify(t)),ShowSuccessAlert(l),setTimeout(()=>{window.location.href="../index.html"},2e3))}function ClearErrorAlerts(){const e=document.getElementById("errorAlert");e&&e.remove()}function ShowErrorAlert(e){const t=document.createElement("div");t.id="errorAlert",t.setAttribute("class","alert alert-danger"),t.setAttribute("role","alert"),t.textContent="This user already exists. Please use a different email.",e.append(t)}function ShowSuccessAlert(e){const t=document.createElement("div");t.setAttribute("class","alert alert-success"),t.setAttribute("role","alert"),t.textContent="Register successful! You will be redirected shortly.",e.appendChild(t)}document.getElementById("registerForm").addEventListener("submit",RegisterUser,!1);