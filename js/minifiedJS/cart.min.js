function DisplayCartItems(){const t=JSON.parse(localStorage.getItem("currentCartItems")),e=document.getElementById("shoppingCard");let n=0;if(t&&0!==t.length){t.forEach(i=>{const c=document.createElement("div");c.id=`cart-item-${i.id}`,c.setAttribute("class","p-3 border-bottom d-flex flex-md-row flex-column justify-content-around align-items-md-center align-items-xs-start gap-2 gap-md-5");const o=document.createElement("img");o.src=i.image_source,o.style.width="150px",o.style.height="auto";const d=document.createElement("div");d.setAttribute("class","mt-2 w-75");const a=document.createElement("div");a.setAttribute("class","fw-bold"),a.textContent=`${i.brand} ${i.model_name}`;const r=document.createElement("div");r.setAttribute("class","text-wrap text-break"),r.textContent=`${i.short_description}`,d.append(a,r);const s=document.createElement("div");s.setAttribute("class","mt-2 d-flex flex-row gap-2 align-items-center justify-content-start justify-content-md-center");const l=document.createElement("div"),m=document.createElement("i");m.setAttribute("class","bi bi-patch-plus-fill fs-3"),m.addEventListener("click",()=>IncrementItemCount(t,i),!1),l.appendChild(m);const u=document.createElement("div");u.id=`quantity-text-${i.id}`,u.textContent=`${i.quantity}`;const p=document.createElement("div"),f=document.createElement("i");f.setAttribute("class","bi bi-patch-minus-fill fs-3"),f.addEventListener("click",()=>DecrementItemCount(t,i),!1),p.appendChild(f),s.append(p,u,l);const y=document.createElement("div");y.id=`price-${i.id}`,y.setAttribute("class","mt-2 fw-bold text-success"),y.innerHTML=`${i.quantity*i.price}&euro;`;const I=document.createElement("i");I.setAttribute("class","bi bi-trash-fill text-danger"),I.id=`removeItem-${i.id}`,I.addEventListener("click",()=>RemoveItem(t,i)),e.appendChild(c),c.appendChild(o),c.appendChild(d),c.appendChild(s),c.appendChild(y),c.appendChild(I),n+=i.quantity*i.price});const i=document.createElement("div");i.id="final-price",i.setAttribute("class","text-end me-3 pb-4 fw-bold fs-5"),i.innerHTML=`Final Price: ${n}&euro;`,e.appendChild(i)}else{const t=document.createElement("div");t.textContent="Your cart is empty!",t.setAttribute("class","display-1 p-5 text-center fw-bold text-secondary"),e.appendChild(t)}}function RemoveItem(t,e){let n=t.findIndex(t=>t.id===e.id);if(-1!==n){t.splice(n,1),UpdateLocalStorage(t);const i=document.getElementById(`cart-item-${e.id}`);i&&i.remove(),UpdateFinalPrice(t)}}function UpdateLocalStorage(t){localStorage.setItem("currentCartItems",JSON.stringify(t));const e=t.reduce((t,e)=>t+e.quantity,0),n=document.getElementById("cartCount");n.textContent=e,localStorage.setItem("numberOfItemsInCart",e)}function IncrementItemCount(t,e){const n=t.findIndex(t=>t.id===e.id);-1!==n?(t[n].quantity++,UpdateLocalStorage(t),UpdateItemDetails(t,n,e),UpdateFinalPrice(t)):console.error("Item not found in the cart.")}function DecrementItemCount(t,e){const n=t.findIndex(t=>t.id===e.id);if(-1!==n)if(t[n].quantity>0){if(t[n].quantity--,0===t[n].quantity){t.splice(n,1);const i=document.getElementById(`cart-item-${e.id}`);i&&i.remove()}UpdateLocalStorage(t),UpdateItemDetails(t,n,e),UpdateFinalPrice(t)}else console.error("Item quantity cannot be less than 0.");else console.error("Item not found in the cart.")}function UpdateItemDetails(t,e,n){const i=document.getElementById(`quantity-text-${n.id}`);i&&(i.textContent=`${t[e].quantity}`);const c=document.getElementById(`price-${n.id}`);c&&(c.textContent=`${t[e].quantity*t[e].price}`)}function UpdateFinalPrice(t){const e=document.getElementById("final-price");let n=t.reduce((t,e)=>t+e.quantity*e.price,0);if(0===n){e&&e.remove();const t=document.getElementById("shoppingCard"),n=document.createElement("div");return n.textContent="Your cart is empty!",n.setAttribute("class","display-1 p-5 text-center fw-bold text-secondary"),void t.appendChild(n)}e&&(e.textContent=`Final Price: ${n}â‚¬`)}function GoBackToShop(){window.location="./shop.html"}function Checkout(){window.location="./checkout.html"}document.addEventListener("DOMContentLoaded",()=>{DisplayCartItems(),document.getElementById("goBack").addEventListener("click",GoBackToShop,!1),document.getElementById("proceedToPayment").addEventListener("click",Checkout,!1)});